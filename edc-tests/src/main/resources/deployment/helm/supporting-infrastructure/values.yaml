---

###########
# Install #
###########
install:
  daps: true
  postgresql: true
  vault: true
  minio: true
  backendservice: true

###################
# Backend Service #
###################
backend:
  fullnameOverride: "backend"
  service:
    type: NodePort
    frontend:
      port: 8080
    backend:
      port: 8081


########
# DAPS #
########
idsdaps:
  fullnameOverride: "ids-daps"
  connectors:
    - id: E7:07:2D:74:56:66:31:F0:7B:10:EA:B6:03:06:4C:23:7F:ED:A6:65:keyid:E7:07:2D:74:56:66:31:F0:7B:10:EA:B6:03:06:4C:23:7F:ED:A6:65
      name: sokrates
      attributes:
        referringConnector: http://sokrates-controlplane/BPNSOKRATES
      # Must be the same certificate that is stores in section 'sokrates-vault'
      certificate: |-
        -----BEGIN CERTIFICATE-----
        MIIDazCCAlOgAwIBAgIUClkStshPHiB2xZ46bAJi6Ag7LU8wDQYJKoZIhvcNAQEL
        BQAwRTELMAkGA1UEBhMCQVUxEzARBgNVBAgMClNvbWUtU3RhdGUxITAfBgNVBAoM
        GEludGVybmV0IFdpZGdpdHMgUHR5IEx0ZDAeFw0yMzA1MTAxNDM3NDBaFw0zMzA1
        MDcxNDM3NDBaMEUxCzAJBgNVBAYTAkFVMRMwEQYDVQQIDApTb21lLVN0YXRlMSEw
        HwYDVQQKDBhJbnRlcm5ldCBXaWRnaXRzIFB0eSBMdGQwggEiMA0GCSqGSIb3DQEB
        AQUAA4IBDwAwggEKAoIBAQCrUNzOLiFwYzxE/v2gH5FLjyU9miRQTuJh4kqjqmj4
        zRpQAeim/CbtOLTaIcYEBI5DHtdnnklVKL0YVwwV8IDrBU77eO72KxPYoSrCE9mA
        e4+CkmNl0KWtYrywv9miZFt0uzn7jhv7YPyK4/AvMip27E0ZPotC5m44QCI2tLCf
        aU81WWuj3N3H2Em0mNcA/dZE7mp7QXvcHUhrrgyOJnQSoqAFUHiVqvnViKVUs/sP
        qN0hr/0OM6n6pDrwL3RZ25LBJRc65BGXdZYnlDoflP1UyX+10UKxNWvsoRRVy5d5
        1x3pmLZXOv0NW50BKMEiwaVG4kOJ7pl95SsHO5LKFWBDAgMBAAGjUzBRMB0GA1Ud
        DgQWBBTYvDPgRwjrD8iMcxGuvGcmVVK6czAfBgNVHSMEGDAWgBTYvDPgRwjrD8iM
        cxGuvGcmVVK6czAPBgNVHRMBAf8EBTADAQH/MA0GCSqGSIb3DQEBCwUAA4IBAQCK
        rDBuor84szINhZjq9cOMyLtN+9I0lSPzktcCtW40tE0BPjOL1H3DVho5Jy4z1lUn
        JUM0w1W5U5lcPZWrkYmU/6M26YPKFB0N6luni2GopBed4DE0j9xtB9xoYINMr8CK
        PF7djjiHeF+PL12XhfF8TfCf3nYC5+ehA0UkOupUUAS4UJ/oaRhW+ZjQRoszagEq
        W1zka/8yuwiGlGWcQxTq067qB8+4Dz5kPLdDYU/Q+sPIbILZPsQpyH7RbbHf8ysg
        Ub1OLvstu9QxfTfHDbvXL/eqLl4URLJCnQ525N8pgUhboZsqBodyr/Bo/Cg7O/Yn
        mjNKiyrG976zBfidANPu
        -----END CERTIFICATE-----
    - id: 99:83:A7:17:86:FF:98:93:CE:A0:DD:A1:F1:36:FA:F6:0F:75:0A:23:keyid:99:83:A7:17:86:FF:98:93:CE:A0:DD:A1:F1:36:FA:F6:0F:75:0A:23
      name: plato
      attributes:
        referringConnector: http://plato-controlplane/BPNPLATO
      # Must be the same certificate that is stores in section 'plato-vault'
      certificate: |-
        -----BEGIN CERTIFICATE-----
        MIIDazCCAlOgAwIBAgIUahtJVLvN0HaIyj+5YuEyPjBDPMswDQYJKoZIhvcNAQEL
        BQAwRTELMAkGA1UEBhMCQVUxEzARBgNVBAgMClNvbWUtU3RhdGUxITAfBgNVBAoM
        GEludGVybmV0IFdpZGdpdHMgUHR5IEx0ZDAeFw0yMzA1MTAxNDM5NDZaFw0zMzA1
        MDcxNDM5NDZaMEUxCzAJBgNVBAYTAkFVMRMwEQYDVQQIDApTb21lLVN0YXRlMSEw
        HwYDVQQKDBhJbnRlcm5ldCBXaWRnaXRzIFB0eSBMdGQwggEiMA0GCSqGSIb3DQEB
        AQUAA4IBDwAwggEKAoIBAQDUasLyfMLj78TUk4LoQZ6PwksE8Mb5xW/vkStE6qfC
        +Cia6MTynEWZC+KaeCfIkuAdH+YaXf3m0BWq7Vj6bbrh05UWY1maWTrcvSYSP8mT
        I50Eln4jj8hylTg7vOo9pZtOVnycnetwMSdHROM6o9nlw45Ctx1QkbNF/6z9BIS9
        Ct+Ax3dWrkSK/dOnuEpsxH8kqAuvLWO8ICgDWQRDhSwDsgHKWERUFSsm811tE0uo
        79J4fP/QFeRkm1YPXOrXAjFSgfkaZ8TiZG+ZltL0ehvYrVcLUcyZtbXBKQphps1z
        OQ2s+2zSprCARnR9J+gp7ON/pQla2oxoqyN3lzToS/9rAgMBAAGjUzBRMB0GA1Ud
        DgQWBBRUTn4D01KBP4oLONT+Y2KW6q1XbDAfBgNVHSMEGDAWgBRUTn4D01KBP4oL
        ONT+Y2KW6q1XbDAPBgNVHRMBAf8EBTADAQH/MA0GCSqGSIb3DQEBCwUAA4IBAQAM
        Cl830Dxt9yRnHeMqEyWlbC/JAs32FXAN9ueEjl9Eb40u0xkfQcfxBGGQZj6gv3XK
        eO5I/8pJwD7TvffccD3HrbQLwTVWnIZHiRd0SF0PSLIJkgnFhhTtSuHcbLAvD58J
        9Q1BleZt77mdNm3IzXVZQm2aWA/pwj36ntz/Hyb1TcNhWwKiBr6xfbYXMtsL3VJ7
        rwQvig99PE6x/0Qxxp8Ea8e7wUXDd43/cgs12J5EKwtd8fQo5Slr0YYfktEphkZl
        u+q6FKnnwwp9xdcVzZloIWfK0BMdZAk4UqUI/ntmYnz28ygMCLBkv5pR1XTjB7Bk
        hsd1WZqxggEcU39ESREJ
        -----END CERTIFICATE-----

##############
# PostgreSQL #
##############
plato-postgresql:
  fullnameOverride: "plato-postgresql"
  primary:
    persistence:
      enabled: false
  readReplicas:
    persistence:
      enabled: false
  auth:
    database: "edc"
    username: "user"
    password: "password"
sokrates-postgresql:
  fullnameOverride: "sokrates-postgresql"
  primary:
    persistence:
      enabled: false
  readReplicas:
    persistence:
      enabled: false
  auth:
    database: "edc"
    username: "user"
    password: "password"

#########
# MINIO #
#########
minio:
  fullnameOverride: minio
  replicas: 2
  drivesPerNode: 0
  serviceAccount:
    create: false
  persistence:
    size: 128Mi
  resources:
    requests:
      memory: 128Mi
  service:
    type: NodePort
    control:
      port: 9000
  users:
    - accessKey: platoqwerty123
      secretKey: platoqwerty123
      policy: customBucketPolicy
    - accessKey: sokratesqwerty123
      secretKey: sokratesqwerty123
      policy: customBucketPolicy
  buckets:
    # in some cases the minio API acts strange if there exists no bucket at all
    - name: dummybucket
      policy: none
      purge: true
  policies:
    - name: customBucketPolicy
      statements:
        - resources:
            - 'arn:aws:s3:::*'
          actions:
            - "s3:PutObject"
            - "s3:ListBucket"
            - "s3:CreateBucket"
            - "s3:GetObject"
            - "s3:DeleteObject"
            - "s3:DeleteBucket"

#########
# VAULT #
#########
vault:
  fullnameOverride: "vault"
  injector:
    enabled: false
  server:
    dev:
      enabled: true
      devRootToken: "root"
    # Must be the same certificate that is configured in section 'ids-daps'
    postStart:
      - "sh"
      - "-c"
      - |
        { 
        
        sleep 5

        /bin/vault kv put secret/plato/data-encryption-aes-keys content=H7j47H6vVQQOv/hbdAYz+w==

        cat << EOF | /bin/vault kv put secret/plato/daps/my-plato-daps-key content=-
        -----BEGIN PRIVATE KEY-----
        MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQDUasLyfMLj78TU
        k4LoQZ6PwksE8Mb5xW/vkStE6qfC+Cia6MTynEWZC+KaeCfIkuAdH+YaXf3m0BWq
        7Vj6bbrh05UWY1maWTrcvSYSP8mTI50Eln4jj8hylTg7vOo9pZtOVnycnetwMSdH
        ROM6o9nlw45Ctx1QkbNF/6z9BIS9Ct+Ax3dWrkSK/dOnuEpsxH8kqAuvLWO8ICgD
        WQRDhSwDsgHKWERUFSsm811tE0uo79J4fP/QFeRkm1YPXOrXAjFSgfkaZ8TiZG+Z
        ltL0ehvYrVcLUcyZtbXBKQphps1zOQ2s+2zSprCARnR9J+gp7ON/pQla2oxoqyN3
        lzToS/9rAgMBAAECggEAVeszHFsrh4AJyQQ7nI9CQBrSNlbf3NKoEqpQ6qjRn7K5
        1eLWGt3r5tpgV6PHT8FdBlrLO5oOI6jCQueLKIxu3X40HSClcyGphfS6LAKCGdJ7
        ZgorTl4PsY06+CrTQok0VwzzjXPw8enn3dN259azwdSGO+UOZfLxJRykT5leyYmZ
        9K9LCOFCMIc8/yE30jADN8N5g32RJIGndjmmkIo3xA7WbepyTB6riPkFpSwogd4O
        kcra5r6Rc4ib2L2eHu+BfIVakPfcu5mbEiKo3wshoYDWLNQttwKbRrAUXepdhA4l
        TMI9S5BcOA6KaIQ8k1jt0V2Qa3FptBNhwmKZThpq1QKBgQDdcTQ6GLyMfv6MyOj+
        SoxlEEKwUFDjQqFiAXavskNb1mUWttokrZ0hxVRBnJwhH8hgtBh20RX1mZZYUORX
        MdQ7bhen1p76PdPal5Wrne6zKx0DpLpmgwkjmIKsPnNiIWeiWE2Q8KX6wZwy+JW4
        HkKVIozajdtWaPUmmKY2TrMshwKBgQD1kP6qKPEOhmih9/+qlm1C43/Pc45dD4Xk
        JOGJIBSoWj1XWKZPcsYXEbO//HdI/pwxHjJNCbSDKqBAn0TIAGzUhXE8bRReFLTo
        AUcp/yanHuMu+0a7KZ0fELh0jVZCLivlFzcKQRANeOmwqvKa5dF+ZqROpAhIVBhq
        lud+qIyS/QKBgHGDhU0+vvCabOxIVT99gYiRFE6DbWOCFW5C589a5zKdrYY+R4bD
        xKe6Gt3jZRmJzFLeHyhROBuFFs/A77xO28d3QQMVfrsylHYafGvT8re/owjqGW9R
        Po8Tr/CRtt4X16Md9u0Un1DyjJqIWV9fi6wdYOzsCQK7nOejGpj+MNTjAoGATp2V
        ufoTejfzhW70zbMM1a4pe8ud1xMiJTDdd13q3x7Mpor9609uNXJ4Xk1ADwFcFal6
        JwmlXZym4ylaBsGEFeGGp/av35K3e9L06nAB+ty7lI3jTgX7hDeBJecdp2BKszPk
        bgb4UafVALcppgdPMy0/CuIeuLEbg/w9rmHdZy0CgYB+1T5+f/pPi01TTMRRqbY6
        5huKkjmb1tKRo3HDaI+CmWMOQ706w7sAoo9j5s6TTN9pbbw7deP7UvRh9Ca+oGqI
        r4FyZQB31/HBOIAu8LQrRM5F+UGj5OIZtf9AgGoUlb1I7SuDxkx6pgllDjRFId2R
        L8igtPZfmFBVFtkZRiwPvw==
        -----END PRIVATE KEY-----
        EOF
        
        cat << EOF | /bin/vault kv put secret/plato/daps/my-plato-daps-crt content=-
        -----BEGIN CERTIFICATE-----
        MIIDazCCAlOgAwIBAgIUahtJVLvN0HaIyj+5YuEyPjBDPMswDQYJKoZIhvcNAQEL
        BQAwRTELMAkGA1UEBhMCQVUxEzARBgNVBAgMClNvbWUtU3RhdGUxITAfBgNVBAoM
        GEludGVybmV0IFdpZGdpdHMgUHR5IEx0ZDAeFw0yMzA1MTAxNDM5NDZaFw0zMzA1
        MDcxNDM5NDZaMEUxCzAJBgNVBAYTAkFVMRMwEQYDVQQIDApTb21lLVN0YXRlMSEw
        HwYDVQQKDBhJbnRlcm5ldCBXaWRnaXRzIFB0eSBMdGQwggEiMA0GCSqGSIb3DQEB
        AQUAA4IBDwAwggEKAoIBAQDUasLyfMLj78TUk4LoQZ6PwksE8Mb5xW/vkStE6qfC
        +Cia6MTynEWZC+KaeCfIkuAdH+YaXf3m0BWq7Vj6bbrh05UWY1maWTrcvSYSP8mT
        I50Eln4jj8hylTg7vOo9pZtOVnycnetwMSdHROM6o9nlw45Ctx1QkbNF/6z9BIS9
        Ct+Ax3dWrkSK/dOnuEpsxH8kqAuvLWO8ICgDWQRDhSwDsgHKWERUFSsm811tE0uo
        79J4fP/QFeRkm1YPXOrXAjFSgfkaZ8TiZG+ZltL0ehvYrVcLUcyZtbXBKQphps1z
        OQ2s+2zSprCARnR9J+gp7ON/pQla2oxoqyN3lzToS/9rAgMBAAGjUzBRMB0GA1Ud
        DgQWBBRUTn4D01KBP4oLONT+Y2KW6q1XbDAfBgNVHSMEGDAWgBRUTn4D01KBP4oL
        ONT+Y2KW6q1XbDAPBgNVHRMBAf8EBTADAQH/MA0GCSqGSIb3DQEBCwUAA4IBAQAM
        Cl830Dxt9yRnHeMqEyWlbC/JAs32FXAN9ueEjl9Eb40u0xkfQcfxBGGQZj6gv3XK
        eO5I/8pJwD7TvffccD3HrbQLwTVWnIZHiRd0SF0PSLIJkgnFhhTtSuHcbLAvD58J
        9Q1BleZt77mdNm3IzXVZQm2aWA/pwj36ntz/Hyb1TcNhWwKiBr6xfbYXMtsL3VJ7
        rwQvig99PE6x/0Qxxp8Ea8e7wUXDd43/cgs12J5EKwtd8fQo5Slr0YYfktEphkZl
        u+q6FKnnwwp9xdcVzZloIWfK0BMdZAk4UqUI/ntmYnz28ygMCLBkv5pR1XTjB7Bk
        hsd1WZqxggEcU39ESREJ
        -----END CERTIFICATE-----
        EOF
        
        /bin/vault kv put secret/sokrates/data-encryption-aes-keys content=OcvxzWCK8ETSjt1jmZw3RA==
        
        cat << EOF | /bin/vault kv put secret/sokrates/daps/my-sokrates-daps-key content=-
        -----BEGIN PRIVATE KEY-----
        MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQCrUNzOLiFwYzxE
        /v2gH5FLjyU9miRQTuJh4kqjqmj4zRpQAeim/CbtOLTaIcYEBI5DHtdnnklVKL0Y
        VwwV8IDrBU77eO72KxPYoSrCE9mAe4+CkmNl0KWtYrywv9miZFt0uzn7jhv7YPyK
        4/AvMip27E0ZPotC5m44QCI2tLCfaU81WWuj3N3H2Em0mNcA/dZE7mp7QXvcHUhr
        rgyOJnQSoqAFUHiVqvnViKVUs/sPqN0hr/0OM6n6pDrwL3RZ25LBJRc65BGXdZYn
        lDoflP1UyX+10UKxNWvsoRRVy5d51x3pmLZXOv0NW50BKMEiwaVG4kOJ7pl95SsH
        O5LKFWBDAgMBAAECggEARjbXsOeGTAZYIt0xvSmDBult9YASJxoVvdGeDtNev65s
        fOMzZBFPsQV/VjHmcyoc1pSy62ScILuYOPwgV3OhmvGri/TmV92S/kQb/rxc9kRu
        LrFp7MZlyRkBRh3ziJPCSiccXiZCALcg+pnujKFudxxlgxW3xR0liod6nlpTU5oM
        943BYwtyS3c/QBz9BMrRpoMOH7ASlUoS8dsnn7/uaYwGA5Vf5GR6qGf0eD/wZ+vX
        B/niI/cFx8b9NB56+Fj0yC14D20ZZ0O4fWyh6ve6QMB8Hxto3QQEow/EVmImm2lX
        dUfwucWN1I/wbl5x9isqKGuscbKJgRU+U0DpdE/CRQKBgQC+9BP25wUVuK1D28rE
        GcdPaYNDH8bqe38IpsJFQRM6f1bYCeQVeklpgQnaSJEk+FOK6XKyMkLD7P/D5HxI
        bKNYicQjaEM//hCXQDSZGO9Sc/sjVJlpPJKF+ytMRihKJEXH+s77bIb31vc7aCHM
        KjIXmSzZa13mDzEtIxGHqhA43QKBgQDlrE8KKsHvD0+EyH2pcDMbFdXOVot1YKGG
        gv3EmGLnrF4A2w7gbbzA1nguFX8BpduvjknS/1iZoNn3RppPUhRH8uXolRAewuA0
        3FEWLTnjH7iNDpsFi6KVDiEhbKra81+Hg+M6wom+8Ptnt+OK2GJCpHEOhB2CurLf
        bly7CoHbnwKBgDWb0osLmprZiRM2/nsFfbYmuio7Hp4v458rKflFZr+ShnAKftUk
        yr1q87grjUwix1mFZqTuhV36CGgXmmi+zzEJJF6IY/DwQ/oilWGx5WZxlzz5AETS
        M5SXyjUUsTT3b/vPxxJBCrdDy48LEgn+gqerYjL7+JWhCD5SzRYYQYulAoGBAJO/
        tVklCH1xrAYPtEc8FqRl95U1t6Fa+I4/1mCSZ44CJLcINRnLfpHPZqC+02WL/TeC
        oZtLCQRLpeydTseYVdOzPpPQ0P34/6MB2Ggb0BF8ZozXyIJYwc6BuG54KbGQvvO+
        tH8ohtR+0jx237qCWTPl9ZURCKsAz/FMXfs1VzShAoGBAK88t5OmY8990NMM6aWR
        /0TqRTpVm/lMPlX7sZacPwB9k4LD39IcvFGy3zP+20ttOBEavSKToSnm2BHiHllO
        Mo/5ZqouTulsPtlzBi4/gJS3E8QeKQ95rnhkOpP19zL4vqFkYMghnGy7Q6XgRQm8
        HBPimve+fWSIsuWiwEjYoM1L
        -----END PRIVATE KEY-----
        EOF
        
        cat << EOF | /bin/vault kv put secret/sokrates/daps/my-sokrates-daps-crt content=-
        -----BEGIN CERTIFICATE-----
        MIIDazCCAlOgAwIBAgIUClkStshPHiB2xZ46bAJi6Ag7LU8wDQYJKoZIhvcNAQEL
        BQAwRTELMAkGA1UEBhMCQVUxEzARBgNVBAgMClNvbWUtU3RhdGUxITAfBgNVBAoM
        GEludGVybmV0IFdpZGdpdHMgUHR5IEx0ZDAeFw0yMzA1MTAxNDM3NDBaFw0zMzA1
        MDcxNDM3NDBaMEUxCzAJBgNVBAYTAkFVMRMwEQYDVQQIDApTb21lLVN0YXRlMSEw
        HwYDVQQKDBhJbnRlcm5ldCBXaWRnaXRzIFB0eSBMdGQwggEiMA0GCSqGSIb3DQEB
        AQUAA4IBDwAwggEKAoIBAQCrUNzOLiFwYzxE/v2gH5FLjyU9miRQTuJh4kqjqmj4
        zRpQAeim/CbtOLTaIcYEBI5DHtdnnklVKL0YVwwV8IDrBU77eO72KxPYoSrCE9mA
        e4+CkmNl0KWtYrywv9miZFt0uzn7jhv7YPyK4/AvMip27E0ZPotC5m44QCI2tLCf
        aU81WWuj3N3H2Em0mNcA/dZE7mp7QXvcHUhrrgyOJnQSoqAFUHiVqvnViKVUs/sP
        qN0hr/0OM6n6pDrwL3RZ25LBJRc65BGXdZYnlDoflP1UyX+10UKxNWvsoRRVy5d5
        1x3pmLZXOv0NW50BKMEiwaVG4kOJ7pl95SsHO5LKFWBDAgMBAAGjUzBRMB0GA1Ud
        DgQWBBTYvDPgRwjrD8iMcxGuvGcmVVK6czAfBgNVHSMEGDAWgBTYvDPgRwjrD8iM
        cxGuvGcmVVK6czAPBgNVHRMBAf8EBTADAQH/MA0GCSqGSIb3DQEBCwUAA4IBAQCK
        rDBuor84szINhZjq9cOMyLtN+9I0lSPzktcCtW40tE0BPjOL1H3DVho5Jy4z1lUn
        JUM0w1W5U5lcPZWrkYmU/6M26YPKFB0N6luni2GopBed4DE0j9xtB9xoYINMr8CK
        PF7djjiHeF+PL12XhfF8TfCf3nYC5+ehA0UkOupUUAS4UJ/oaRhW+ZjQRoszagEq
        W1zka/8yuwiGlGWcQxTq067qB8+4Dz5kPLdDYU/Q+sPIbILZPsQpyH7RbbHf8ysg
        Ub1OLvstu9QxfTfHDbvXL/eqLl4URLJCnQ525N8pgUhboZsqBodyr/Bo/Cg7O/Yn
        mjNKiyrG976zBfidANPu
        -----END CERTIFICATE-----
        EOF
        }

  ui:
    enabled: true
    externalPort: 8200
    targetPort: 8200
